<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Nana ‚ù§Ô∏è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Comic Neue', cursive;
            background: linear-gradient(45deg, #ffcce6, #ccf2ff, #e6ffcc, #ffcccc);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            min-height: 100vh;
            overflow-x: hidden;
        }

        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .heart {
            position: absolute;
            pointer-events: none;
            animation: float 4s ease-in-out infinite;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
            }

            50% {
                transform: translateY(-20px) rotate(10deg);
            }
        }


        .question-box {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(5px);
        }

        .no-button {
            transition: all 0.5s ease;
            position: relative;
        }

        .no-button:hover {
            transform: scale(1.1);
        }

        .flying {
            transform: translate(0, 0) !important;
            transition: all 0.5s ease;
        }

        .confetti {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 1000;
        }

        #responseModal {
            transition: opacity 0.3s ease;
        }

        #modalContent {
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            color: #6b46c1;
            font-weight: bold;
        }
    </style>
</head>

<body class="flex flex-col items-center justify-center p-4">
    <!-- Modal Structure -->
    <div id="responseModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white bg-opacity-90 rounded-xl p-8 max-w-md w-full mx-4 text-center relative">
            <button id="closeModal"
                class="absolute top-2 right-4 text-2xl text-gray-600 hover:text-gray-800">&times;</button>
            <div id="modalContent" class="py-4 text-xl"></div>
            <button id="modalContinue"
                class="mt-4 px-6 py-2 bg-pink-500 text-white rounded-full hover:bg-pink-600 transition">
                Kemli ‚ù§Ô∏è
            </button>
        </div>
    </div>

    <audio id="birthdaySong" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>

    <div class="confetti" id="confetti"></div>

    <h1 class="text-4xl md:text-6xl font-bold text-center mb-8 text-pink-600 animate-bounce">
        SANA 7IIIILWA YA JAMIIL ‚ù§Ô∏è
    </h1>

    <div
        class="question-box bg-white bg-opacity-70 p-8 rounded-xl max-w-md w-full text-center relative overflow-hidden">
        <div class="absolute -top-10 -left-10 w-20 h-20 bg-pink-200 rounded-full opacity-30"></div>
        <div class="absolute -bottom-10 -right-10 w-24 h-24 bg-blue-200 rounded-full opacity-30"></div>

        <p id="question" class="text-xl md:text-2xl font-bold mb-6 text-gray-800">
            3arfa shkone 3ando the cutest hbiba in the world?
        </p>

        <div class="relative h-28 w-full flex justify-center items-start mt-6" id="buttonWrapper">
            <button id="yesBtn"
                class="px-6 py-3 bg-green-500 text-white rounded-full font-bold hover:bg-green-600 transition transform hover:scale-105">
                Ah üòç
            </button>
            <button id="noBtn"
                class="no-button px-6 py-3 bg-red-500 text-white rounded-full font-bold hover:bg-red-600 transition">
                La üò¢
            </button>
        </div>
    </div>

    <button id="musicBtn" class="mt-8 px-4 py-2 bg-purple-500 text-white rounded-full hidden flex items-center">
        <span id="musicIcon">üéµ Play Music</span>
    </button>

    <div class="mt-12 text-center hidden" id="finalMessage">
        <h2 class="text-3xl font-bold text-pink-600 mb-4">l A7la Nana ‚ù§Ô∏è</h2>
        <p class="text-xl mb-4">kan3ish kol nhar 3la wed anani nshof dehka dialk dimaaaa !</p>
        <p class="text-xl mb-4">thank you thank you hit nti m3aya </p>
        <p class="text-2xl font-bold text-purple-600">kanbghik kter ma katkhyli, o kter ma lkalimat tqder twsf ! üíñ</p>
    </div>

    <script>
        // Create floating hearts
        function createHearts() {
            const colors = ['#ff6b6b', '#ffb8b8', '#ff9ff3', '#feca57', '#ff9f43'];
            for (let i = 0; i < 15; i++) {
                const heart = document.createElement('div');
                heart.innerHTML = '‚ù§Ô∏è';
                heart.className = 'heart';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.top = Math.random() * 100 + 'vh';
                heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
                heart.style.animationDelay = Math.random() * 5 + 's';
                heart.style.opacity = Math.random() * 0.5 + 0.3;
                document.body.appendChild(heart);
            }
        }

        createHearts();

        // Questions and responses
        const questions = [
            "3arfa shkone 3ando the cutest hbiba in the world?",
            "3arfa chhal kanbghiiiiiiik ?",
            "kaina shi wahd bhal hbiba diali ?",
            "atkoni diali dima wakha ytra li bgha ytra ?",
            "Atbqay m3aya dima ?"
        ];

        const responses = [
            "Ayeh, ayeh raha baaina hhhhhhh! üòò",
            "qad bzazlk ? hhhh akandhk, kanbghik qad dakshi li mkhbi lia f ... mashi romantique yak ?! üòí",
            "impossssssssy!  üíñ",
            "Da3ti safi, wliti diali hyatek kolha hihihi  üíç",
            "mmmm rah gha derna swab o swlnak ! ‚ù§Ô∏è"
        ];

        let currentQuestion = 0;
        const questionElement = document.getElementById('question');
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const finalMessage = document.getElementById('finalMessage');
        const musicBtn = document.getElementById('musicBtn');
        const musicIcon = document.getElementById('musicIcon');
        const birthdaySong = document.getElementById('birthdaySong');
        let musicPlaying = false;

        // Music toggle
        musicBtn.addEventListener('click', () => {
            if (musicPlaying) {
                birthdaySong.pause();
                musicIcon.textContent = 'üéµ Play Music';
            } else {
                birthdaySong.play();
                musicIcon.textContent = 'üîá Mute Music';
            }
            musicPlaying = !musicPlaying;
        });

        // Yes button click
        // Show modal with response
        function showModal(message, isFinal = false) {
            const modal = document.getElementById('responseModal');
            const modalContent = document.getElementById('modalContent');
            const continueBtn = document.getElementById('modalContinue');

            modalContent.innerHTML = message;
            modal.classList.remove('hidden');

            if (isFinal) {
                continueBtn.textContent = 'Kan7bek! üíñ';
                continueBtn.addEventListener('click', () => {
                    modal.classList.add('hidden');
                }, { once: true });
            } else {
                continueBtn.textContent = 'kemli ‚ù§Ô∏è';
                continueBtn.addEventListener('click', () => {
                    modal.classList.add('hidden');
                    currentQuestion++;
                    if (currentQuestion < questions.length) {
                        questionElement.textContent = questions[currentQuestion];
                    } else {
                        // All questions answered
                        document.querySelector('.question-box').classList.add('hidden');
                        finalMessage.classList.remove('hidden');

                        // Launch confetti
                        for (let i = 0; i < 5; i++) {
                            setTimeout(() => {
                                confetti({
                                    particleCount: 150,
                                    spread: 70,
                                    origin: { y: 0.6 }
                                });
                            }, i * 300);
                        }
                    }
                }, { once: true });
            }
        }

        // Close modal handlers
        document.getElementById('closeModal').addEventListener('click', () => {
            document.getElementById('responseModal').classList.add('hidden');
        });

        yesBtn.addEventListener('click', () => {
            if (currentQuestion < questions.length - 1) {
                showModal(responses[currentQuestion]);
            } else {
                // Final question
                showModal(responses[currentQuestion], true);
                // All questions answered
                document.querySelector('.question-box').classList.add('hidden');
                finalMessage.classList.remove('hidden');

                // Launch confetti
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        confetti({
                            particleCount: 150,
                            spread: 70,
                            origin: { y: 0.6 }
                        });
                    }, i * 300);
                }
            }
        });

        // No button movement handler
        function moveButton() {
            const wrapper = document.getElementById('buttonWrapper');
            const wrapperRect = wrapper.getBoundingClientRect();
            const maxX = wrapper.offsetWidth - noBtn.offsetWidth;
            const maxY = wrapper.offsetHeight - noBtn.offsetHeight;

            const x = Math.random() * maxX;
            const y = Math.random() * maxY;

            noBtn.style.position = 'absolute';
            noBtn.style.left = `${x}px`;
            noBtn.style.top = `${y}px`;
            noBtn.classList.add('flying');
        }


        noBtn.addEventListener('mouseover', moveButton);
        noBtn.addEventListener('click', (e) => {
            e.preventDefault();
            moveButton();
            showModal("Werqi 3la `Ah` mn lbsala üòÇ");
        });
    </script>
</body>

</html>